# Что такое WebSocket?

## Основные отличия от HTTP:

### HTTP (Request-Response):
- Клиент отправляет запрос → Сервер отвечает → Соединение закрывается
- Каждый запрос требует нового соединения
- Сервер не может отправить данные клиенту без запроса


### WebSocket (Full-Duplex):
- Одно постоянное соединение между клиентом и сервером
- Обе стороны могут отправлять данные в любой момент
- Соединение остается открытым до явного закрытия
- Минимальные накладные расходы после установления соединения


## Когда использовать WebSocket:
- Чат-приложения
- Онлайн игры
- Торговые платформы (real-time цены)
- Мониторинг систем
- Уведомления в реальном времени
- Совместная работа (collaborative editing)


## Протокол:
1. Клиент отправляет HTTP запрос с заголовком `Upgrade: websocket`
2. Сервер подтверждает обновление протокола
3. Соединение переходит в режим WebSocket
4. Обе стороны могут обмениваться данными


1. Базовый сервер и клиент

Терминал 1 (Сервер):
```shell
python websocket/1_basic_server.py
```


Терминал 2 (Клиент):
```shell
python websocket/2_basic_client.py
```


2. Чат с несколькими клиентами
Терминал 1 (Сервер):
```shell
python websocket/3_chat_example.py
```

Терминал 2, 3, 4... (Клиенты):
Можно использовать простой клиент или подключиться через браузер:


3. Мониторинг в реальном времени
Терминал 1 (Сервер):
```shell
python websocket/4_realtime_monitoring.py
```

Терминал 2 (Клиент):
```shell
python websocket/5_client_monitoring.py
```


### Ключевые концепции

- websockets.serve() - создает WebSocket сервер
- websockets.connect() - подключается к WebSocket серверу
- await websocket.send() - отправка сообщения
- await websocket.recv() - получение сообщения
- async for message in websocket - цикл для получения всех сообщений
